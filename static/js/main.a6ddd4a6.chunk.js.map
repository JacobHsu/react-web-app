{"version":3,"sources":["components/ErrorToast/index.js","redux/modules/app.js","containers/Home/components/Category/index.js","containers/Home/components/Headline/index.js","containers/Home/components/Discount/index.js","containers/Home/components/LikeItem/index.js","components/Loading/index.js","containers/Home/components/LikeList/index.js","containers/Home/components/HomeHeader/index.js","containers/Home/components/Activity/index.js","components/Footer/index.js","containers/Home/index.js","containers/App/index.js","utils/request.js","redux/middleware/api.js","redux/modules/entities/products.js","redux/modules/entities/shops.js","redux/modules/entities/orders.js","redux/modules/entities/comments.js","redux/modules/entities/index.js","redux/modules/home.js","redux/modules/detail.js","redux/modules/index.js","redux/store.js","index.js"],"names":["ErrorToast","msg","this","props","react_default","a","createElement","className","_this","timer","setTimeout","clearError","clearTimeout","Component","initialState","error","types","actions","type","reducer","state","arguments","length","undefined","action","Object","objectSpread","getError","app","dataSource","name","src","Category","lib_default","dots","arrows","slidesToShow","swipeToSlide","autoplay","map","section","index","key","item","i","alt","pic","title","url","Headline","vertical","href","id","shopId","shop","product","currentPrice","oldPrice","picture","Discount","data","width","height","LikeItem","_this$props$data","tag","genre","year","Loading","LikeList","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleScroll","scrollTop","document","documentElement","body","screenHeight","clientHeight","likeListTop","myRef","current","offsetTop","offsetHeight","newData","concat","newLoadTimes","loadTimes","setState","React","createRef","removeListener","_this$state","console","log","ref","components_LikeItem","components_Loading","addEventListener","removeEventListener","HomeHeader","Activity","Footer","Home","components_HomeHeader","components_Category","components_Headline","components_Activity","components_Discount","components_LikeList","components_Footer","App","_this$props","appActions","containers_Home","components_ErrorToast","connect","dispatch","bindActionCreators","headers","Headers","Accept","Content-type","handleResponse","response","json","Promise","reject","message","fetchData","endpoint","schema","fetch","method","then","catch","err","normalizeData","_ref","kvObj","ids","Array","isArray","forEach","push","defineProperty","products","rootReducer","combineReducers","shops","orders","comments","entities","home","detail","store","createStore","applyMiddleware","thunk","next","callAPI","Error","every","actionWith","finalAction","_types","slicedToArray","requestType","successType","failureType","ReactDOM","render","es","containers_App","getElementById"],"mappings":"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","file":"static/js/main.a6ddd4a6.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass ErrorToast extends Component {\r\n  render() {\r\n    const { msg } = this.props;\r\n    return (\r\n      <div className=\"errorToast\">\r\n        <div className=\"errorToast_text\">{msg}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.timer = setTimeout(() => {\r\n        this.props.clearError();\r\n    }, 3000);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n      if(this.timer) {\r\n          clearTimeout(this.timer);\r\n      }\r\n  }\r\n}\r\n\r\nexport default ErrorToast;\r\n","const initialState = {\r\n  error: null\r\n};\r\n\r\nexport const types = {\r\n  CLEAR_ERROR: \"APP/CLEAR_ERROR\"\r\n};\r\n\r\n//action creators\r\nexport const actions = {\r\n  clearError: () => ({\r\n    type: types.CLEAR_ERROR\r\n  })\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  const { type, error } = action;\r\n  if (type === types.CLEAR_ERROR) {\r\n    return { ...state, error: null };\r\n  } else if (error) {\r\n    return { ...state, error: error };\r\n  }\r\n  return state;\r\n};\r\nexport default reducer;\r\n\r\n\r\n// selectors 從state中獲取某一部分狀態  這裡取error\r\n// UI層和狀態管理層 它的接口都是透過selectors函數通訊的，實現解藕    \r\nexport const getError = (state) => {\r\n  return state.app.error\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport \"./style.css\";\r\n\r\nconst dataSource = [\r\n  [\r\n    {\r\n      name: \"喜劇\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599666.svg\"\r\n    },\r\n    {\r\n      name: \"愛情\",\r\n      src: \"https://image.flaticon.com/icons/svg/1306/1306596.svg\"\r\n    },\r\n    {\r\n      name: \"懸疑\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599683.svg\"\r\n    },\r\n    {\r\n      name: \"奇幻\",\r\n      src: \"https://image.flaticon.com/icons/svg/1224/1224042.svg\"\r\n    },\r\n    {\r\n      name: \"科幻\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599682.svg\"\r\n    },\r\n    {\r\n      name: \"歌舞\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599677.svg\"\r\n    },\r\n    {\r\n      name: \"戰爭\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599657.svg\"\r\n    },\r\n    {\r\n      name: \"恐怖\",\r\n      src: \"https://www.flaticon.com/premium-icon/icons/svg/1385/1385820.svg\"\r\n    },\r\n    {\r\n      name: \"災難\",\r\n      src: \"https://image.flaticon.com/icons/svg/733/733077.svg\"\r\n    },\r\n    {\r\n      name: \"動作\",\r\n      src: \"https://image.flaticon.com/icons/svg/1484/1484841.svg\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      name: \"預告\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599691.svg\"\r\n    },\r\n    {\r\n      name: \"賣座\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599672.svg\"\r\n    },\r\n    {\r\n      name: \"爆米花\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599652.svg\"\r\n    },\r\n    {\r\n      name: \"奧斯卡\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599645.svg\"\r\n    },\r\n    {\r\n      name: \"金棕櫚\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599685.svg\"\r\n    },\r\n    {\r\n      name: \"紀錄片\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599662.svg\"\r\n    },\r\n    {\r\n      name: \"剪接\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599669.svg\"\r\n    },\r\n    {\r\n      name: \"原聲\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599648.svg\"\r\n    },\r\n    {\r\n      name: \"導演\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599664.svg\"\r\n    },\r\n    {\r\n      name: \"服裝\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599674.svg\"\r\n    }\r\n  ]\r\n];\r\n\r\nclass Category extends Component {\r\n  render() {\r\n    const settings = {\r\n      dots: true,\r\n      arrows: false,\r\n      slidesToShow: 1,\r\n      swipeToSlide: true,\r\n      autoplay: true\r\n    };\r\n    return (\r\n      <div className=\"category\">\r\n        <Slider {...settings}>\r\n          {dataSource.map((section, index) => {\r\n            return (\r\n              <div key={index}>\r\n                {section.map((item, i) => {\r\n                  return (\r\n                    <div className=\"category__section\" key={i}>\r\n                      <img\r\n                        className=\"category__icon\"\r\n                        src={item.src}\r\n                        alt=\"img\"\r\n                      />\r\n                      <div>\r\n                        <span className=\"category__text\">{item.name}</span>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            );\r\n          })}\r\n        </Slider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Category;\r\n","import React, { Component } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport './style.css';\r\n\r\nconst dataSource = [\r\n  {\r\n    pic:\r\n      \"https://upload.wikimedia.org/wikipedia/zh/2/2b/Captain_Marvel_Poster.jpg\",\r\n    title: \"逆轉終局之戰的關鍵人物！漫威「史上最強」女英雄《驚奇隊長》\",\r\n    url:\r\n      \"https://zh.wikipedia.org/wiki/驚奇隊長_(電影)\"\r\n  },\r\n  {\r\n    pic:\r\n      \"https://upload.wikimedia.org/wikipedia/zh/8/8a/Avengers_Infinity_War_Poster.jpg\",\r\n    title: \"【這局我布了10 年】漫威如何用18 部電影鋪陳《復仇者聯盟3：無限之戰》 \",\r\n    url:\r\n      \"https://zh.wikipedia.org/wiki/復仇者聯盟3：無限之戰\"\r\n  },\r\n  {\r\n    pic:\r\n      \"https://upload.wikimedia.org/wikipedia/zh/7/76/Avengers_Endgame_Poster.jpg\",\r\n    title: \"《復仇者聯盟：終局之戰》剪輯官宣完工！電影時長依舊未知\",\r\n    url:\r\n      \"https://zh.wikipedia.org/wiki/復仇者聯盟：終局之戰\"\r\n  }\r\n];\r\nclass Headline extends Component {\r\n  render() {\r\n    const settings = {\r\n      slidesToShow: 1,\r\n      swipeToSlide: true,\r\n      autoplay: true,\r\n      vertical: true //自上而下滾動效果\r\n    };\r\n    return (\r\n      <div className=\"headline\">\r\n        <div className=\"headline__logo\" />\r\n        <div className=\"headline__slider\">\r\n          <Slider {...settings}>\r\n            {dataSource.map((item, index) => {\r\n              return (\r\n                <a\r\n                  key={index}\r\n                  className=\"headline__sliderInner\"\r\n                  href={item.url}\r\n                >\r\n                  <div className=\"headline__sliderTitle\">{item.title}</div>\r\n                  <div className=\"headline__sliderImgWrapper\">\r\n                    <img\r\n                      className=\"headline__sliderImg\"\r\n                      src={item.pic}\r\n                      alt=\"sliderImg\"\r\n                    />\r\n                  </div>\r\n                </a>\r\n              );\r\n            })}\r\n          </Slider>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Headline;\r\n","import React, { Component } from \"react\";\r\nimport './style.css';\r\n\r\nconst dataSource = [\r\n  {\r\n    id: \"m-100\",\r\n    url: \"https://www.imdb.com/title/tt0848228/?ref_=nv_sr_5\",\r\n    shopId: \"s-100\",\r\n    shop: \"The Avengers\",\r\n    product: \"The Avengers (2012)\",\r\n    currentPrice: 190,\r\n    oldPrice: 390,\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMTM2MzY1ODc1Nl5BMl5BanBnXkFtZTcwNTg4OTY3Nw@@._V1_SX1777_CR0,0,1777,999_AL_.jpg\"\r\n  },\r\n  {\r\n    id: \"m-101\",\r\n    url: \"https://www.imdb.com/title/tt2395427/?ref_=nv_sr_8\",\r\n    shopId: \"s-101\",\r\n    shop: \"Age of Ultron\",\r\n    product: \"Age of Ultron\",\r\n    currentPrice: 190,\r\n    oldPrice: 390,\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BNTk4NjQ2MTMxNV5BMl5BanBnXkFtZTgwOTY3MjQ0NDE@._V1_.jpg\"\r\n  },\r\n  {\r\n    id: \"m-102\",\r\n    url: \"https://www.imdb.com/title/tt4154756/?ref_=nv_sr_4\",\r\n    shopId: \"s-102\",\r\n    shop: \"Infinity War\",\r\n    product: \"Infinity War\",\r\n    currentPrice: 290,\r\n    oldPrice: 490,\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMjI5ODQwMjg5N15BMl5BanBnXkFtZTgwMTk2Njk5NDM@._V1_SX1777_CR0,0,1777,937_AL_.jpg\"\r\n  }\r\n];\r\n\r\nclass Discount extends Component {\r\n  render() {\r\n      const data = dataSource;\r\n    return (\r\n      <div className=\"discount\">\r\n        <a\r\n          className=\"discount__header\"\r\n          href=\"https://jacobhsu.github.io/react-web-app/\"\r\n        >\r\n          <span className=\"discount__title\">超值特惠</span>\r\n          <span className=\"discount__more\">更多優惠</span>\r\n          <span className=\"discount__arrow\" />\r\n        </a>\r\n        <div className=\"discount__content\">\r\n          {data.map((item, index) => {\r\n            return (\r\n              <a key={item.id} className=\"discount__item\" href={item.url}>\r\n                <div className=\"discount__itemPic\">\r\n                  <img width=\"100%\" height=\"100%\" src={item.picture} alt=\"itemPic\"/>\r\n                </div>\r\n                <div className=\"discount__itemTitle\">{item.shop}</div>\r\n                <div className=\"discount__itemPriceWrapper\">\r\n                  <ins className=\"discount__itemCurrentPrice\">\r\n                    {item.currentPrice}\r\n                  </ins>\r\n                  <del className=\"discount__itemOldPrice\">{item.oldPrice}</del>\r\n                </div>\r\n              </a>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Discount;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass LikeItem extends Component {\r\n  render() {\r\n    const {\r\n      name,\r\n      tag,\r\n      picture,\r\n      genre,\r\n      currentPrice,\r\n      oldPrice,\r\n      year\r\n    } = this.props.data;\r\n    return (\r\n      <a className=\"likeItem\" href=\"http://google.com\">\r\n        <div className=\"likeItem__picContainer\">\r\n          <div className=\"likeItem__picTag\">{tag}</div>\r\n          <img className=\"likeItem__pic\" src={picture} alt=\"pic\" />\r\n        </div>\r\n        <div className=\"likeItem__content\">\r\n          <div className=\"likeItem__shop\">{name}</div>\r\n          <div className=\"likeItem__genre\">{genre}</div>\r\n          <div className=\"likeItem__detail\">\r\n            <div className=\"likeItem__price\">\r\n              <ins className=\"likeItem__currentPrice\">{currentPrice}</ins>\r\n              <del className=\"likeItem__oldPrice\">{oldPrice}</del>\r\n            </div>\r\n            <div className=\"likeItem__sale\">{year}</div>\r\n          </div>\r\n        </div>\r\n      </a>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LikeItem;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\"\r\n\r\nclass Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"loading\">\r\n        <div className=\"loading__img\" />\r\n        <span>正在加載...</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React, { Component } from \"react\";\r\nimport LikeItem from \"../LikeItem\";\r\nimport Loading from \"../../../../components/Loading\";\r\nimport \"./style.css\";\r\n\r\nconst dataSource = [\r\n  {\r\n    id: \"m-1\",\r\n    shopId: \"s-1\",\r\n    name: \"Captain America: Civil War\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMjQ0MTgyNjAxMV5BMl5BanBnXkFtZTgwNjUzMDkyODE@._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Sci-Fi\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2016\"\r\n  },\r\n  {\r\n    id: \"p-2\",\r\n    shopId: \"s-2\",\r\n    name: \"Doctor Strange\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BNjgwNzAzNjk1Nl5BMl5BanBnXkFtZTgwMzQ2NjI1OTE@._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Fantasy\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2016\"\r\n  },\r\n  {\r\n    id: \"p-3\",\r\n    shopId: \"s-3\",\r\n    name: \"Guardians of the Galaxy\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMTAwMjU5OTgxNjZeQTJeQWpwZ15BbWU4MDUxNDYxODEx._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Comedy\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2014\"\r\n  },\r\n  {\r\n    id: \"p-4\",\r\n    shopId: \"s-4\",\r\n    name: \"Thor: Ragnarok\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMjMyNDkzMzI1OF5BMl5BanBnXkFtZTgwODcxODg5MjI@._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Comedy\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2017\"\r\n  },\r\n  {\r\n    id: \"p-5\",\r\n    shopId: \"s-5\",\r\n    name: \"Black Panther\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMTg1MTY2MjYzNV5BMl5BanBnXkFtZTgwMTc4NTMwNDI@._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Sci-Fi\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2018\"\r\n  }\r\n];\r\n\r\nclass LikeList extends Component {\r\n  //儲存會發生變化的狀態\r\n  constructor(props) {\r\n    super(props);\r\n    this.myRef = React.createRef();\r\n    this.state = {\r\n      data: dataSource,\r\n      loadTimes: 1 //加載幾次的標記\r\n    };\r\n    this.removeListener = false;\r\n  }\r\n  render() {\r\n    const { data, loadTimes } = this.state;\r\n    console.log(111, loadTimes);\r\n    //下拉兩次 加載更多 下拉三次 查看更多\r\n    return (\r\n      <div ref={this.myRef} className=\"likeList\">\r\n        <div className=\"likeList__header\">猜你喜歡</div>\r\n        <div className=\"likeList__list\">\r\n          {data.map((item, index) => {\r\n            return <LikeItem key={index} data={item} />;\r\n          })}\r\n        </div>\r\n        {loadTimes < 3 ? (\r\n          <Loading />\r\n        ) : (\r\n          <a className=\"likeList__viewAll\" href=\"https://jacobhsu.github.io/react-web-app/\">查看更多</a>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"scroll\", this.handleScroll);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.loadTimes >= 3 && !this.removeListener) {\r\n      document.removeEventListener(\"scroll\", this.handleScroll); //解除綁定不再監聽事件\r\n      this.removeListener = true;\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //如果沒被超過三次DidUpdate階段事先移除 移除\r\n    if (!this.removeListener) {\r\n      document.removeListener(\"scroll\", this.handleScroll);\r\n    }\r\n  }\r\n\r\n  //處理螢幕滾動事件，實現加載更多的效果\r\n  handleScroll = () => {\r\n    const scrollTop =\r\n      document.documentElement.scrollTop || document.body.scrollTop; //獲取頁面滾動的距離\r\n    const screenHeight = document.documentElement.clientHeight; // 螢幕可視區域高度\r\n    const likeListTop = this.myRef.current.offsetTop; //likeList組件距離頂部頁面距離\r\n    const LikeListHeight = this.myRef.current.offsetHeight; //likeList組件內容高度\r\n\r\n    //如果滾動的距離 讓組件內容區域的最底部 呈現在整個可視頁面的最底部 開啟加載更多\r\n    if (scrollTop >= LikeListHeight + likeListTop - screenHeight) {\r\n      const newData = this.state.data.concat(dataSource); //複製數據模擬加載\r\n      const newLoadTimes = this.state.loadTimes + 1;\r\n      setTimeout(() => {\r\n        this.setState({\r\n          data: newData,\r\n          loadTimes: newLoadTimes\r\n        });\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nexport default LikeList;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass HomeHeader extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"HomeHeader\">\r\n        <header className=\"homeHeader__wrapper\">\r\n          <a className=\"homeHeader__city\">電影</a>\r\n          <a className=\"homeHeader__search\">輸入名稱</a>\r\n          <a className=\"homeHeader__self\">\r\n            <div className=\"homeHeader__portrait\" />\r\n          </a>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomeHeader;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass Activity extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"activity\">\r\n        <div className=\"activity__block\">\r\n          <a\r\n            className=\"activity__content activity__content--pink\"\r\n            href=\"https://www.ign.com/lists/avengers\"\r\n          >\r\n            <div className=\"activity__title\">復仇者聯盟成員</div>\r\n            <div className=\"activity__subTitle activity__subTitle--pink\">\r\n               票選TOP 50\r\n            </div>\r\n            <img\r\n              className=\"activity__pic\" alt=\"activity1\"\r\n              src=\"https://res.cloudinary.com/emazecom/image/fetch/c_limit,a_ignore,w_120,h_120/http%3A%2F%2Fvignette2.wikia.nocookie.net%2Fmarvelcinematicuniverse%2Fimages%2Fa%2Fad%2FAvengers_Logo.png%2Frevision%2Flatest%3Fcb%3D20160218131959\"\r\n            />\r\n          </a>\r\n        </div>\r\n        <div className=\"activity__block\">\r\n          <a\r\n            className=\"activity__content activity__content--blue\"\r\n            href=\"https://www.facebook.com/imoviesales/\"\r\n          >\r\n            <div className=\"activity__title\">優惠福利放送</div>\r\n            <div className=\"activity__subTitle activity__subTitle--blue\">\r\n              電影特價報\r\n            </div>\r\n            <img\r\n              className=\"activity__pic\" alt=\"activity2\"\r\n              src=\"https://op.meituan.net/oppkit_pic/20160310032241-1e027deb-2/a9b8c52c341892600ff7260c89025a59.png\"\r\n            />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Activity;\r\n","import React, { Component } from 'react'\r\nimport './style.css'\r\n\r\nclass Footer extends Component {\r\n  render () {\r\n    return (\r\n      <footer className='footer'>\r\n        <a className='footer__link' href=\"https://github.com/JacobHsu\">\r\n            About\r\n        </a>\r\n        <br/>\r\n        <p className=\"footer__copyright\">copyright ©2019</p>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer","import React, { Component } from 'react';\r\nimport Category from './components/Category';\r\nimport Headline from './components/Headline';\r\nimport Discount from './components/Discount';\r\nimport LikeList from './components/LikeList';\r\nimport HomeHeader from  './components/HomeHeader';\r\nimport Activity from './components/Activity'\r\nimport Footer from '../../components/Footer'\r\n\r\n\r\nclass Home extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n               <HomeHeader/>\r\n               <Category/>\r\n               <Headline/>\r\n               <Activity/> \r\n               <Discount/> \r\n               <LikeList/> \r\n               <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;","import React, { Component } from \"react\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\n\nimport ErrorToast from \"../../components/ErrorToast\"\nimport { actions as appActions, getError } from \"../../redux/modules/app\";\nimport Home from '../Home';\n\n\nclass App extends Component {\n  render() {\n    const {\n      error,\n      appActions: { clearError }\n    } = this.props;\n    return (\n      <div className=\"App\">\n         <Home/>\n         {error ? <ErrorToast msg={error} clearError={clearError} /> : null}\n      </div>\n    );\n  }\n}\n\n// 常見的容器型組件模板式代碼 分別從redux狀態管理層　獲取　容器型組件要用的state和action方法　\nconst mapStateToProps = (state, props) => {\n  return  {\n    error: getError(state)\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    //bindActionCreators將　appActions進行進一步包裝　在容器型組件使用時　可以直接發送對應的Action　不需要再調用dispatch的方法來發送\n    //bindActionCreators的作用是將一個或多個action和dispatch組合起來生成mapDispatchToProps需要生成的內容。把actions和dispatch合併\n    appActions: bindActionCreators(appActions, dispatch)\n  }\n}\n\n//使用 React Redux 提供的 connect() function 產生 container component 而非手動寫成\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);\n","const headers = new Headers({\r\n   \"Accept\": \"application/json\",\r\n   \"Content-type\": \"application/json\",\r\n})\r\n\r\n//對網路請求進行封裝\r\nfunction get(url) {\r\n    return fetch(url, {\r\n        method: \"GET\",\r\n        headers: headers\r\n    }).then(response => {\r\n        handleResponse(url, response);\r\n    }).catch(err=>{\r\n        console.error(`Request failed. Url=${url}. Message=${err}`);\r\n        return Promise.reject({error:{message:\"Request failed\"} });\r\n    })\r\n}\r\n\r\nfunction post(url, data) {\r\n    return fetch(url, {\r\n        method: \"POST\",\r\n        headers: headers,\r\n        body: data\r\n    }).then(response => {\r\n        handleResponse(url, response);\r\n    }).catch(err=>{\r\n        console.error(`Request failed. Url=${url}. Message=${err}`);\r\n        return Promise.reject({error:{message:\"Request failed\"} });\r\n    })\r\n}\r\n\r\nfunction handleResponse(url, response) {\r\n    if(response.state === 200) {\r\n        return response.json();\r\n    } else {\r\n        console.error(`Request failed. Url= ${url}`);\r\n        return Promise.reject({error:{message:\"Request failed due to server error\"} });\r\n    }\r\n}\r\n\r\nexport {get,post}","import { get } from \"../../utils/request\";\r\n\r\n//經過中間件處理的action所具有的標識\r\nexport const FETCH_DATA = \"FETCH DATA\";\r\n\r\n//next 代表當前中間件的下一個中間件所提供的dispatch方法\r\nexport default store => next => action => {\r\n  const callAPI = action[FETCH_DATA];\r\n  if (typeof callAPI === \"undefined\") {\r\n    return next(action);\r\n  }\r\n\r\n  const { endpoint, schema, types } = callAPI;\r\n  if (typeof endpoint !== \"string\") {\r\n    throw new Error(\"endpoint必須為字符串類型的URL\");\r\n  }\r\n  if (!schema) {\r\n    throw new Error(\"必須指定領域實體的schema\");\r\n  }\r\n  if (!Array.isArray(types) && types.length !== 3) {\r\n    throw new Error(\"需要指定一個包含了3個action type的數組\");\r\n  }\r\n  if (!types.every(type => typeof type === \"string\")) {\r\n    throw new Error(\"action type必須為字符串類型\");\r\n  }\r\n\r\n  //增強版action使其包含額外參數\r\n  const actionWith = data => {\r\n    const finalAction = {...action, ...data} //在原有基礎上，擴展data\r\n    delete finalAction[FETCH_DATA] //在往後傳遞不需要 這一層級屬性刪除\r\n    return finalAction\r\n  }\r\n\r\n  const [requestType, successType, failureType] = types;\r\n\r\n  next(actionWith({ type: requestType })); //有一個請求即將被發送\r\n  //傳入請求的url 數據實體schema\r\n  return fetchData(endpoint, schema).then(\r\n    response =>\r\n      next(\r\n        actionWith({\r\n          type: successType,\r\n          response\r\n        })\r\n      ),\r\n    error =>\r\n      next(\r\n        actionWith({\r\n          type: failureType,\r\n          error: error.message || \"獲取數據失敗\"\r\n        })\r\n      )\r\n  );\r\n};\r\n\r\n//執行網路請求\r\nconst fetchData = (endpoint, schema) => {\r\n  return get(endpoint).then(data => {\r\n    return normalizeData(data, schema);\r\n  });\r\n};\r\n\r\n//根據schema, 將獲取的數據扁平化處理\r\nconst normalizeData = (data, schema) => {\r\n  const { id, name } = schema;\r\n  let kvObj = {}; //kv key value\r\n  let ids = []; //存取到數據所獲取的每一項id\r\n  if (Array.isArray(data)) {\r\n    data.forEach(item => {\r\n      kvObj[item[id]] = item;\r\n      ids.push(item[id]);\r\n    });\r\n  } else { //不是Array類型 只是一個對象\r\n    kvObj[data[id]] = data;\r\n    ids.push(data[id]);\r\n  }\r\n  return {\r\n    [name]: kvObj, //掛載到name屬性下 name代表不同領域實體的名字 例如獲取products時 name是products\r\n    ids\r\n  };\r\n};\r\n","export const schema = {\r\n  name: 'products',\r\n  id: 'id',\r\n} \r\n\r\nconst reducer = (state = {}, action) => {\r\n    if(action.response && action.response.products) {\r\n      return {...state, ...action.response.products}\r\n    }\r\n    return state;\r\n  };\r\nexport default reducer;","const reducer = (state = {}, action) => {\r\n    return state;\r\n  };\r\nexport default reducer;","const reducer = (state = {}, action) => {\r\n  return state;\r\n};\r\nexport default reducer;\r\n","const reducer = (state = {}, action) => {\r\n    return state;\r\n  };\r\nexport default reducer;","import {combineReducers} from \"redux\";\r\nimport products from \"./products\";\r\nimport shops from \"./shops\";\r\nimport orders from \"./orders\";\r\nimport comments from \"./comments\";\r\n\r\n// 合併領域狀態\r\nconst  rootReducer = combineReducers({\r\n    products,\r\n    shops,\r\n    orders,\r\n    comments\r\n})\r\n\r\nexport default rootReducer","import { get } from \"../../utils/request\"; //導入封裝好的get方法\r\nimport url from \"../../utils/url\";\r\nimport { FETCH_DATA } from \"../middleware/api\"\r\nimport { schema } from \"./entities/products\"\r\n\r\nexport const types = {\r\n  FETCH_LIKES_REQUEST: \"HOME/FETCH_LIKES_REQUEST\", //猜你喜歡\r\n  FETCH_LIKES_SUCCESS: \"HOME/FETCH_LIKES_SUCCESS\",\r\n  FETCH_LIKES_FAILURE: \"HOME/FETCH_LIKES_FAILURE\"\r\n};\r\n\r\n\r\nexport const actions = {\r\n  loadLikes: () => {\r\n    return (dispatch, getState) => {\r\n      const endpoint = url.getProductList(0, 10) //參數 第一條開始獲取 每頁獲取十條\r\n      return dispatch(fetchLikes(endpoint))\r\n    }\r\n  },\r\n}\r\n\r\n//所有與發送請求相關的處理\r\nconst fetchLikes = (endpoint) => ({\r\n  [FETCH_DATA]: {\r\n    types: [\r\n      types.FETCH_LIKES_REQUEST,\r\n      types.FETCH_LIKES_SUCCESS,\r\n      types.FETCH_LIKES_FAILURE\r\n    ],\r\n    endpoint, //對應url\r\n    schema //對應領域實體\r\n  }\r\n})\r\n\r\n\r\nconst reducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case types.FETCH_LIKES_REQUEST:\r\n    // todo\r\n    case types.FETCH_LIKES_SUCCESS:\r\n    // todo\r\n    case types.FETCH_LIKES_FAILURE:\r\n    // todo\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","const reducer = (state = {}, action) => {\r\n    return state;\r\n  };\r\nexport default reducer;","import { combineReducers } from \"redux\";\r\nimport entities from \"./entities\";\r\nimport home from \"./home\";\r\nimport detail from \"./detail\";\r\nimport app from \"./app\";\r\n\r\n//合併成根reducer \r\nconst rootReducer = combineReducers({\r\n    entities,\r\n    home,\r\n    detail,\r\n    app\r\n})\r\n\r\nexport default rootReducer","import { createStore, applyMiddleware } from \"redux\"; //使用中間件需要appltMiddleware\r\nimport thunk from \"redux-thunk\"; //處理異步中間件  \r\nimport api from \"./middleware/api\";\r\nimport rootReducer from \"./modules\";\r\n\r\nlet store;\r\n\r\nif (\r\n  process.env.NODE_ENV !== \"production\" &&\r\n  window.__REDUX_DEVTOOLS_EXTENSION__\r\n) {\r\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;\r\n  store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk,api)));\r\n} else {\r\n  //thunk放前api放後 先讓thunk處理函數類型的action，然後讓api中間件處理具體請求的封裝  \r\n  store = createStore(rootReducer, applyMiddleware(thunk,api)); \r\n}\r\nexport default store; ","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./containers/App\";\nimport store from \"./redux/store\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}