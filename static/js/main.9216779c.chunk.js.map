{"version":3,"sources":["components/ErrorToast/index.js","redux/modules/app.js","containers/Home/components/Category/index.js","containers/Home/components/Headline/index.js","containers/Home/components/Discount/index.js","containers/Home/components/LikeItem/index.js","components/Loading/index.js","containers/Home/components/LikeList/index.js","containers/Home/components/HomeHeader/index.js","containers/Home/components/Activity/index.js","components/Footer/index.js","containers/Home/index.js","containers/ProductDetail/components/ProductOverview/index.js","containers/ProductDetail/components/ShopInfo/index.js","containers/ProductDetail/components/Detail/index.js","containers/ProductDetail/components/Remark/index.js","containers/ProductDetail/components/BuyButton/index.js","components/Header/index.js","utils/url.js","utils/request.js","redux/middleware/api.js","utils/createReducer.js","redux/modules/entities/shops.js","redux/modules/entities/products.js","redux/modules/detail.js","containers/ProductDetail/index.js","containers/App/index.js","redux/modules/entities/orders.js","redux/modules/entities/comments.js","redux/modules/entities/index.js","redux/modules/home.js","redux/modules/index.js","redux/store.js","index.js"],"names":["ErrorToast","msg","this","props","react_default","a","createElement","className","_this","timer","setTimeout","clearError","clearTimeout","Component","initialState","error","types","actions","type","reducer","state","arguments","length","undefined","action","Object","objectSpread","getError","app","dataSource","name","src","Category","lib_default","dots","arrows","slidesToShow","swipeToSlide","autoplay","map","section","index","key","item","i","alt","pic","title","url","Headline","vertical","href","id","shopId","shop","product","currentPrice","oldPrice","picture","Discount","data","Link","to","concat","width","height","LikeItem","_this$props$data","tag","genre","year","Loading","LikeList","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleScroll","scrollTop","document","documentElement","body","screenHeight","clientHeight","likeListTop","myRef","current","offsetTop","offsetHeight","newData","newLoadTimes","loadTimes","setState","React","createRef","removeListener","_this$state","ref","components_LikeItem","components_Loading","addEventListener","fetchData","removeEventListener","HomeHeader","Activity","Footer","Home","components_HomeHeader","components_Category","components_Headline","components_Activity","components_Discount","components_LikeList","components_Footer","ProductOverview","description","ShopInfo","style","Detail","cellPadding","cellSpacing","colSpan","Remark","BuyButton","Header","handleBack","_this$props","grey","onBack","backgroundColor","onClick","headers","Headers","Accept","Content-type","handleResponse","response","status","json","console","Promise","reject","message","endpoint","schema","fetch","method","then","catch","normalizeData","_ref","kvObj","ids","Array","isArray","forEach","push","defineProperty","createReducer","getShopById","entities","shops","getProductDetail","products","detail","purchaseNotes","isFetching","relatedShop","loadProductDetail","dispatch","getState","fetchProductDetailSuccess","log","fetchProductDetail","loadShopById","fetchShopSuccess","fetchShopById","productSchema","_ref2","shopSchema","combineReducers","getProduct","getRelatedShop","productId","getProductById","nearestShop","ProductDetail","history","goBack","components_Header","components_ProductOverview","components_ShopInfo","components_Detail","components_Remark","components_BuyButton","detailActions","match","params","preProps","connect","bindActionCreators","App","appActions","BrowserRouter","Switch","Route","path","component","components_ErrorToast","rootReducer","orders","comments","likes","pageCount","discounts","home","store","createStore","applyMiddleware","thunk","next","callAPI","Error","every","actionWith","finalAction","_types","slicedToArray","requestType","successType","failureType","ReactDOM","render","es","containers_App","getElementById"],"mappings":"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","file":"static/js/main.9216779c.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass ErrorToast extends Component {\r\n  render() {\r\n    const { msg } = this.props;\r\n    return (\r\n      <div className=\"errorToast\">\r\n        <div className=\"errorToast_text\">{msg}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.timer = setTimeout(() => {\r\n        this.props.clearError();\r\n    }, 3000);\r\n  }\r\n\r\n  componentWillUnmount(){\r\n      if(this.timer) {\r\n          clearTimeout(this.timer);\r\n      }\r\n  }\r\n}\r\n\r\nexport default ErrorToast;\r\n","const initialState = {\r\n  error: null\r\n};\r\n\r\nexport const types = {\r\n  CLEAR_ERROR: \"APP/CLEAR_ERROR\"\r\n};\r\n\r\n//action creators\r\nexport const actions = {\r\n  clearError: () => ({\r\n    type: types.CLEAR_ERROR\r\n  })\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  const { type, error } = action;\r\n  if (type === types.CLEAR_ERROR) {\r\n    return { ...state, error: null };\r\n  } else if (error) {\r\n    return { ...state, error: error };\r\n  }\r\n  return state;\r\n};\r\nexport default reducer;\r\n\r\n\r\n// selectors 從state中獲取某一部分狀態  這裡取error\r\n// UI層和狀態管理層 它的接口都是透過selectors函數通訊的，實現解藕    \r\nexport const getError = (state) => {\r\n  return state.app.error\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport \"./style.css\";\r\n\r\nconst dataSource = [\r\n  [\r\n    {\r\n      name: \"喜劇\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599666.svg\"\r\n    },\r\n    {\r\n      name: \"愛情\",\r\n      src: \"https://image.flaticon.com/icons/svg/1306/1306596.svg\"\r\n    },\r\n    {\r\n      name: \"懸疑\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599683.svg\"\r\n    },\r\n    {\r\n      name: \"奇幻\",\r\n      src: \"https://image.flaticon.com/icons/svg/1224/1224042.svg\"\r\n    },\r\n    {\r\n      name: \"科幻\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599682.svg\"\r\n    },\r\n    {\r\n      name: \"歌舞\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599677.svg\"\r\n    },\r\n    {\r\n      name: \"戰爭\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599657.svg\"\r\n    },\r\n    {\r\n      name: \"恐怖\",\r\n      src: \"https://www.flaticon.com/premium-icon/icons/svg/1385/1385820.svg\"\r\n    },\r\n    {\r\n      name: \"災難\",\r\n      src: \"https://image.flaticon.com/icons/svg/733/733077.svg\"\r\n    },\r\n    {\r\n      name: \"動作\",\r\n      src: \"https://image.flaticon.com/icons/svg/1484/1484841.svg\"\r\n    }\r\n  ],\r\n  [\r\n    {\r\n      name: \"預告\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599691.svg\"\r\n    },\r\n    {\r\n      name: \"賣座\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599672.svg\"\r\n    },\r\n    {\r\n      name: \"爆米花\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599652.svg\"\r\n    },\r\n    {\r\n      name: \"奧斯卡\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599645.svg\"\r\n    },\r\n    {\r\n      name: \"金棕櫚\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599685.svg\"\r\n    },\r\n    {\r\n      name: \"紀錄片\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599662.svg\"\r\n    },\r\n    {\r\n      name: \"剪接\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599669.svg\"\r\n    },\r\n    {\r\n      name: \"原聲\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599648.svg\"\r\n    },\r\n    {\r\n      name: \"導演\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599664.svg\"\r\n    },\r\n    {\r\n      name: \"服裝\",\r\n      src: \"https://image.flaticon.com/icons/svg/1599/1599674.svg\"\r\n    }\r\n  ]\r\n];\r\n\r\nclass Category extends Component {\r\n  render() {\r\n    const settings = {\r\n      dots: true,\r\n      arrows: false,\r\n      slidesToShow: 1,\r\n      swipeToSlide: true,\r\n      autoplay: true\r\n    };\r\n    return (\r\n      <div className=\"category\">\r\n        <Slider {...settings}>\r\n          {dataSource.map((section, index) => {\r\n            return (\r\n              <div key={index}>\r\n                {section.map((item, i) => {\r\n                  return (\r\n                    <div className=\"category__section\" key={i}>\r\n                      <img\r\n                        className=\"category__icon\"\r\n                        src={item.src}\r\n                        alt=\"img\"\r\n                      />\r\n                      <div>\r\n                        <span className=\"category__text\">{item.name}</span>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            );\r\n          })}\r\n        </Slider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Category;\r\n","import React, { Component } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport './style.css';\r\n\r\nconst dataSource = [\r\n  {\r\n    pic:\r\n      \"https://upload.wikimedia.org/wikipedia/zh/2/2b/Captain_Marvel_Poster.jpg\",\r\n    title: \"逆轉終局之戰的關鍵人物！漫威「史上最強」女英雄《驚奇隊長》\",\r\n    url:\r\n      \"https://zh.wikipedia.org/wiki/驚奇隊長_(電影)\"\r\n  },\r\n  {\r\n    pic:\r\n      \"https://upload.wikimedia.org/wikipedia/zh/8/8a/Avengers_Infinity_War_Poster.jpg\",\r\n    title: \"【這局我布了10 年】漫威如何用18 部電影鋪陳《復仇者聯盟3：無限之戰》 \",\r\n    url:\r\n      \"https://zh.wikipedia.org/wiki/復仇者聯盟3：無限之戰\"\r\n  },\r\n  {\r\n    pic:\r\n      \"https://upload.wikimedia.org/wikipedia/zh/7/76/Avengers_Endgame_Poster.jpg\",\r\n    title: \"《復仇者聯盟：終局之戰》剪輯官宣完工！電影時長依舊未知\",\r\n    url:\r\n      \"https://zh.wikipedia.org/wiki/復仇者聯盟：終局之戰\"\r\n  }\r\n];\r\nclass Headline extends Component {\r\n  render() {\r\n    const settings = {\r\n      slidesToShow: 1,\r\n      swipeToSlide: true,\r\n      autoplay: true,\r\n      vertical: true //自上而下滾動效果\r\n    };\r\n    return (\r\n      <div className=\"headline\">\r\n        <div className=\"headline__logo\" />\r\n        <div className=\"headline__slider\">\r\n          <Slider {...settings}>\r\n            {dataSource.map((item, index) => {\r\n              return (\r\n                <a\r\n                  key={index}\r\n                  className=\"headline__sliderInner\"\r\n                  href={item.url}\r\n                >\r\n                  <div className=\"headline__sliderTitle\">{item.title}</div>\r\n                  <div className=\"headline__sliderImgWrapper\">\r\n                    <img\r\n                      className=\"headline__sliderImg\"\r\n                      src={item.pic}\r\n                      alt=\"sliderImg\"\r\n                    />\r\n                  </div>\r\n                </a>\r\n              );\r\n            })}\r\n          </Slider>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Headline;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nconst dataSource = [\r\n  {\r\n    id: \"m-1\",\r\n    url: \"https://www.imdb.com/title/tt0848228/?ref_=nv_sr_5\",\r\n    shopId: \"s-100\",\r\n    shop: \"The Avengers\",\r\n    product: \"The Avengers (2012)\",\r\n    currentPrice: 190,\r\n    oldPrice: 390,\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMTM2MzY1ODc1Nl5BMl5BanBnXkFtZTcwNTg4OTY3Nw@@._V1_SX1777_CR0,0,1777,999_AL_.jpg\"\r\n  },\r\n  {\r\n    id: \"m-2\",\r\n    url: \"https://www.imdb.com/title/tt2395427/?ref_=nv_sr_8\",\r\n    shopId: \"s-101\",\r\n    shop: \"Age of Ultron\",\r\n    product: \"Age of Ultron\",\r\n    currentPrice: 190,\r\n    oldPrice: 390,\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BNTk4NjQ2MTMxNV5BMl5BanBnXkFtZTgwOTY3MjQ0NDE@._V1_.jpg\"\r\n  },\r\n  {\r\n    id: \"m-3\",\r\n    url: \"https://www.imdb.com/title/tt4154756/?ref_=nv_sr_4\",\r\n    shopId: \"s-102\",\r\n    shop: \"Infinity War\",\r\n    product: \"Infinity War\",\r\n    currentPrice: 290,\r\n    oldPrice: 490,\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMjI5ODQwMjg5N15BMl5BanBnXkFtZTgwMTk2Njk5NDM@._V1_SX1777_CR0,0,1777,937_AL_.jpg\"\r\n  }\r\n];\r\n\r\nclass Discount extends Component {\r\n  render() {\r\n    const data = dataSource;\r\n    return (\r\n      <div className=\"discount\">\r\n        <a\r\n          className=\"discount__header\"\r\n          href=\"https://jacobhsu.github.io/react-web-app/\"\r\n        >\r\n          <span className=\"discount__title\">超值特惠</span>\r\n          <span className=\"discount__more\">更多優惠</span>\r\n          <span className=\"discount__arrow\" />\r\n        </a>\r\n        <div className=\"discount__content\">\r\n          {data.map((item, index) => {\r\n            return (\r\n              <Link\r\n                key={item.id}\r\n                to={`/detail/${item.id}`}\r\n                className=\"discount__item\"\r\n              >\r\n                <div className=\"discount__itemPic\">\r\n                  <img\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    src={item.picture}\r\n                    alt=\"itemPic\"\r\n                  />\r\n                </div>\r\n                <div className=\"discount__itemTitle\">{item.shop}</div>\r\n                <div className=\"discount__itemPriceWrapper\">\r\n                  <ins className=\"discount__itemCurrentPrice\">\r\n                    {item.currentPrice}\r\n                  </ins>\r\n                  <del className=\"discount__itemOldPrice\">{item.oldPrice}</del>\r\n                </div>\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Discount;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\"\r\nimport \"./style.css\";\r\n\r\nclass LikeItem extends Component {\r\n  render() {\r\n    const {\r\n      id,\r\n      name,\r\n      tag,\r\n      picture,\r\n      genre,\r\n      currentPrice,\r\n      oldPrice,\r\n      year\r\n    } = this.props.data;\r\n    return (\r\n      <Link className=\"likeItem\" to={`/detail/${id}`}>\r\n        <div className=\"likeItem__picContainer\">\r\n          <div className=\"likeItem__picTag\">{tag}</div>\r\n          <img className=\"likeItem__pic\" src={picture} alt=\"pic\" />\r\n        </div>\r\n        <div className=\"likeItem__content\">\r\n          <div className=\"likeItem__shop\">{name}</div>\r\n          <div className=\"likeItem__genre\">{genre}</div>\r\n          <div className=\"likeItem__detail\">\r\n            <div className=\"likeItem__price\">\r\n              <ins className=\"likeItem__currentPrice\">{currentPrice}</ins>\r\n              <del className=\"likeItem__oldPrice\">{oldPrice}</del>\r\n            </div>\r\n            <div className=\"likeItem__sale\">{year}</div>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LikeItem;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\"\r\n\r\nclass Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"loading\">\r\n        <div className=\"loading__img\" />\r\n        <span>正在加載...</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React, { Component } from \"react\";\r\nimport LikeItem from \"../LikeItem\";\r\nimport Loading from \"../../../../components/Loading\";\r\nimport \"./style.css\";\r\n\r\nconst dataSource = [\r\n  {\r\n    id: \"m-1\",\r\n    shopId: \"s-1\",\r\n    name: \"Captain America: Civil War\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMjQ0MTgyNjAxMV5BMl5BanBnXkFtZTgwNjUzMDkyODE@._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Sci-Fi\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2016\"\r\n  },\r\n  {\r\n    id: \"p-2\",\r\n    shopId: \"s-2\",\r\n    name: \"Doctor Strange\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BNjgwNzAzNjk1Nl5BMl5BanBnXkFtZTgwMzQ2NjI1OTE@._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Fantasy\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2016\"\r\n  },\r\n  {\r\n    id: \"p-3\",\r\n    shopId: \"s-3\",\r\n    name: \"Guardians of the Galaxy\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMTAwMjU5OTgxNjZeQTJeQWpwZ15BbWU4MDUxNDYxODEx._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Comedy\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2014\"\r\n  },\r\n  {\r\n    id: \"p-4\",\r\n    shopId: \"s-4\",\r\n    name: \"Thor: Ragnarok\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMjMyNDkzMzI1OF5BMl5BanBnXkFtZTgwODcxODg5MjI@._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Comedy\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2017\"\r\n  },\r\n  {\r\n    id: \"p-5\",\r\n    shopId: \"s-5\",\r\n    name: \"Black Panther\",\r\n    tag: \"\",\r\n    picture:\r\n      \"https://m.media-amazon.com/images/M/MV5BMTg1MTY2MjYzNV5BMl5BanBnXkFtZTgwMTc4NTMwNDI@._V1_UY190_CR0,0,128,190_AL_.jpg\",\r\n    genre: \"Action | Adventure | Sci-Fi\",\r\n    currentPrice: 190,\r\n    oldPrice: 290,\r\n    year: \"2018\"\r\n  }\r\n];\r\n\r\nclass LikeList extends Component {\r\n  //儲存會發生變化的狀態\r\n  constructor(props) {\r\n    super(props);\r\n    this.myRef = React.createRef();\r\n    this.state = {\r\n      data: dataSource,\r\n      loadTimes: 1 //加載幾次的標記\r\n    };\r\n    this.removeListener = false;\r\n  }\r\n  render() {\r\n    const { data, loadTimes } = this.state;\r\n    //下拉兩次 加載更多 下拉三次 查看更多\r\n    return (\r\n      <div ref={this.myRef} className=\"likeList\">\r\n        <div className=\"likeList__header\">猜你喜歡</div>\r\n        <div className=\"likeList__list\">\r\n          {data.map((item, index) => {\r\n            return <LikeItem key={index} data={item} />;\r\n          })}\r\n        </div>\r\n        {loadTimes < 3 ? (\r\n          <Loading />\r\n        ) : (\r\n          <a className=\"likeList__viewAll\" href=\"https://jacobhsu.github.io/react-web-app/\">查看更多</a>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    //透過 props.pageCount 判斷 達到數據緩存作用\r\n    //小於3才監聽scroll事件\r\n    if(this.state.loadTimes < 3) {\r\n      document.addEventListener(\"scroll\", this.handleScroll);\r\n    } else {\r\n      this.removeListener = true;\r\n    }\r\n    //大於0表示加載過，不重覆加載\r\n    if(this.state.loadTimes === 0) { \r\n      this.props.fetchData();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.loadTimes >= 3 && !this.removeListener) {\r\n      document.removeEventListener(\"scroll\", this.handleScroll); //解除綁定不再監聽事件\r\n      this.removeListener = true;\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //如果沒被超過三次DidUpdate階段事先移除 移除\r\n    if (!this.removeListener) {\r\n      document.removeEventListener(\"scroll\", this.handleScroll);\r\n    }\r\n  }\r\n\r\n  //處理螢幕滾動事件，實現加載更多的效果\r\n  handleScroll = () => {\r\n    const scrollTop =\r\n      document.documentElement.scrollTop || document.body.scrollTop; //獲取頁面滾動的距離\r\n    const screenHeight = document.documentElement.clientHeight; // 螢幕可視區域高度\r\n    const likeListTop = this.myRef.current.offsetTop; //likeList組件距離頂部頁面距離\r\n    const LikeListHeight = this.myRef.current.offsetHeight; //likeList組件內容高度\r\n\r\n    //如果滾動的距離 讓組件內容區域的最底部 呈現在整個可視頁面的最底部 開啟加載更多\r\n    if (scrollTop >= LikeListHeight + likeListTop - screenHeight) {\r\n      const newData = this.state.data.concat(dataSource); //複製數據模擬加載\r\n      const newLoadTimes = this.state.loadTimes + 1;\r\n      setTimeout(() => {\r\n        this.setState({\r\n          data: newData,\r\n          loadTimes: newLoadTimes\r\n        });\r\n      });\r\n    }\r\n  };\r\n}\r\n\r\nexport default LikeList;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nclass HomeHeader extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"HomeHeader\">\r\n        <header className=\"homeHeader__wrapper\">\r\n          <a className=\"homeHeader__city\">電影</a>\r\n          <Link to=\"/search\" className=\"homeHeader__search\">輸入名稱</Link>\r\n          <Link to=\"/user\" className=\"homeHeader__self\">\r\n            <div className=\"homeHeader__portrait\" />\r\n          </Link>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomeHeader;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass Activity extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"activity\">\r\n        <div className=\"activity__block\">\r\n          <a\r\n            className=\"activity__content activity__content--pink\"\r\n            href=\"https://www.ign.com/lists/avengers\"\r\n          >\r\n            <div className=\"activity__title\">復仇者聯盟成員</div>\r\n            <div className=\"activity__subTitle activity__subTitle--pink\">\r\n               票選TOP 50\r\n            </div>\r\n            <img\r\n              className=\"activity__pic\" alt=\"activity1\"\r\n              src=\"https://res.cloudinary.com/emazecom/image/fetch/c_limit,a_ignore,w_120,h_120/http%3A%2F%2Fvignette2.wikia.nocookie.net%2Fmarvelcinematicuniverse%2Fimages%2Fa%2Fad%2FAvengers_Logo.png%2Frevision%2Flatest%3Fcb%3D20160218131959\"\r\n            />\r\n          </a>\r\n        </div>\r\n        <div className=\"activity__block\">\r\n          <a\r\n            className=\"activity__content activity__content--blue\"\r\n            href=\"https://www.facebook.com/imoviesales/\"\r\n          >\r\n            <div className=\"activity__title\">優惠福利放送</div>\r\n            <div className=\"activity__subTitle activity__subTitle--blue\">\r\n              電影特價報\r\n            </div>\r\n            <img\r\n              className=\"activity__pic\" alt=\"activity2\"\r\n              src=\"https://op.meituan.net/oppkit_pic/20160310032241-1e027deb-2/a9b8c52c341892600ff7260c89025a59.png\"\r\n            />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Activity;\r\n","import React, { Component } from 'react'\r\nimport './style.css'\r\n\r\nclass Footer extends Component {\r\n  render () {\r\n    return (\r\n      <footer className='footer'>\r\n        <a className='footer__link' href=\"https://github.com/JacobHsu\">\r\n            About\r\n        </a>\r\n        <br/>\r\n        <p className=\"footer__copyright\">copyright ©2019</p>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer","import React, { Component } from 'react';\r\nimport Category from './components/Category';\r\nimport Headline from './components/Headline';\r\nimport Discount from './components/Discount';\r\nimport LikeList from './components/LikeList';\r\nimport HomeHeader from  './components/HomeHeader';\r\nimport Activity from './components/Activity'\r\nimport Footer from '../../components/Footer'\r\n\r\n\r\nclass Home extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n               <HomeHeader/>\r\n               <Category/>\r\n               <Headline/>\r\n               <Activity/> \r\n               <Discount/> \r\n               <LikeList/> \r\n               <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nclass ProductOverview extends Component {\r\n  render() {\r\n    const {id, product, picture, description, currentPrice, oldPrice} = this.props.data;\r\n    return (\r\n      <div className=\"productOverview\">\r\n        <div className=\"productOverview__header\">\r\n          <div className=\"productOverview__imgContainer\">\r\n            <img\r\n              alt=\"\"\r\n              className=\"productOverview__img\"\r\n              src={picture}\r\n            />\r\n          </div>\r\n          <div className=\"productOverview__baseInfo\">\r\n            <div className=\"productOverview__title\">{product}</div>\r\n            <div className=\"productOverview__content\">\r\n              {description}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"productOverview__purchase\">\r\n          <span className=\"productOverview__symbol\">TWD</span>\r\n          <span className=\"productOverview__price\">{currentPrice}</span>\r\n          <span className=\"productOverview__price--old\">{oldPrice}</span>\r\n          <Link className=\"productOverview__btn\" to={`/purchase/${id}`}>立即購買</Link>\r\n        </div>\r\n        <ul className=\"productOverview__remark\">\r\n          <li className=\"productOverview__remarkItem\">\r\n            <i className=\"productOverview__sign1\" />\r\n            <span className=\"productOverview__desc\">7日內可退</span>\r\n          </li>\r\n          <li className=\"productOverview__remarkItem\">\r\n            <i className=\"productOverview__sign2\" />\r\n            <span className=\"productOverview__desc\">過期自動退</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProductOverview;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\"\r\n\r\nclass ShopInfo extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"shopInfo\">\r\n        <div className=\"shopInfo__header\">\r\n            商店\r\n          <span className=\"shopInfo__arrow\" />\r\n        </div>\r\n        <div className=\"shopInfo__middle\">\r\n          <div className=\"shopInfo__middleLeft\">\r\n            <div className=\"shopInfo__shopName\">iTunes</div>\r\n            <div className=\"shopInfo__starsWrapper\">\r\n              <span className=\"shopInfo__stars\">\r\n                <i className=\"shopInfo__stars--red\" style={{ width: \"80%\" }} alt=\"80% 4stars\"/> \r\n              </span>\r\n              <span className=\"shopInfo__distance\">US</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"shopInfo__middleRight\">\r\n            <i className=\"shopInfo__phoneIcon\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"shopInfo__bottom\">\r\n          <i className=\"shopInfo__locationIcon\" />US\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ShopInfo;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass Detail extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"detail\">\r\n        <div className=\"detail__header\">\r\n          <span>商品詳情</span>\r\n          <i className=\"detail__headerIcon\" />\r\n        </div>\r\n        <table cellPadding=\"0\" cellSpacing=\"0\" className=\"detail__table\">\r\n          <tbody>\r\n            <tr className=\"detail__row\">\r\n              <th colSpan=\"3\" className=\"detail__category\">\r\n                電影\r\n              </th>\r\n            </tr>\r\n            <tr className=\"detail__row\">\r\n              <td>Infinity War</td>\r\n              <td className=\"detail__td--alignRight\">1</td>\r\n              <td className=\"detail__td--alignRight\">490元</td>\r\n            </tr>\r\n            <tr className=\"detail__row\">\r\n              <td />\r\n              <td className=\"detail__td--price\">\r\n                原價\r\n                <br />\r\n                <strong className=\"detail__td--priceNew\">優惠價</strong>\r\n              </td>\r\n              <td className=\"detail__td--price\">\r\n                490元\r\n                <br />\r\n                <strong className=\"detail__td--priceNew\">290元</strong>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div className=\"detail__remark\">Extras</div>\r\n        <div className=\"detail__more\">\r\n          <span>更多幕後特輯</span>\r\n          <span className=\"detail__notice\">\r\n          </span>\r\n          <i className=\"detail__arrow\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Detail;\r\n","import React, { Component } from \"react\";\r\nimport './style.css';\r\n\r\nclass Remark extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"remark\">\r\n        <div className=\"remark__header\">\r\n          購買須知\r\n          <i className=\"remark__icon\" />\r\n        </div>\r\n        <div className=\"remark__list\">\r\n          <dl className=\"remark__item\">\r\n            <dt className=\"remark__itemTitle\">有效期</dt>\r\n            <dd className=\"remark__itemDesc\">終生有效</dd>\r\n          </dl>\r\n          <dl className=\"remark__item\">\r\n            <dt className=\"remark__itemTitle\">除外日期</dt>\r\n            <dd className=\"remark__itemDesc\">無</dd>\r\n          </dl>\r\n          <dl className=\"remark__item\">\r\n            <dt className=\"remark__itemTitle\">使用時間</dt>\r\n            <dd className=\"remark__itemDesc\">啟用即可使用</dd>\r\n          </dl>\r\n          <dl className=\"remark__item\">\r\n            <dt className=\"remark__itemTitle\">預約提醒</dt>\r\n            <dd className=\"remark__itemDesc\">\r\n              無需預約\r\n            </dd>\r\n          </dl>\r\n          <dl className=\"remark__item\">\r\n            <dt className=\"remark__itemTitle\">規則提醒</dt>\r\n            <dd className=\"remark__itemDesc\"></dd>\r\n          </dl>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Remark;\r\n","import React, { Component } from 'react';\r\nimport './style.css';\r\n\r\nclass BuyButton extends Component {\r\n    render() {\r\n        return (\r\n            <a className=\"buyButton\">\r\n                立即購買\r\n            </a>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BuyButton;","//商品詳情有header 購買頁有header 不同樣式 所以設計成通用header 支持樣式替換\r\nimport React, { Component } from \"react\";\r\nimport './style.css';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const { grey, title, onBack } = this.props; //接收標題和背景樣式設定\r\n    const backgroundColor = grey ? \"#f0f0f0\" : \"#fff\"; //grey white\r\n    return (\r\n      <header className=\"header\" style={{ backgroundColor: backgroundColor }}>\r\n        <div className=\"header__back\" onClick={onBack}>\r\n          返回\r\n        </div>\r\n        <div className=\"header__title\">{title}</div>\r\n      </header>\r\n    );\r\n  }\r\n\r\n  handleBack = () => {};\r\n}\r\n\r\nexport default Header;\r\n","//rowIndex,pageSize 作為查詢參數  \r\nexport default {\r\n  //path 不同資源的類型 eg:likes\r\n  getProductList: (path, rowIndex, pageSize) => `/mock/product/${path}.json?rowIndex=${rowIndex}&pageSize=${pageSize}`,\r\n  getProductDetail: (id) => `/mock/product_detail/${id}.json`,\r\n  getShopById: (id) => `/mock/shops/${id}.json`\r\n};\r\n","const headers = new Headers({\r\n  Accept: \"application/json\",\r\n  \"Content-type\": \"application/json\"\r\n});\r\n\r\n//對網路請求進行封裝\r\nfunction get(url) {\r\n  return fetch(url, {\r\n        method: \"GET\",\r\n        headers: headers\r\n    })\r\n    .then(response => {\r\n        return handleResponse(url, response);\r\n    })\r\n    .catch(error => {\r\n        console.error(`Request failed. Url = ${url}. Message = ${error}`);\r\n        return Promise.reject({ error: { message: \"Request failed.\" } });\r\n    });\r\n}\r\n\r\nfunction post(url, data) {\r\n  return fetch(url, {\r\n    method: \"POST\",\r\n    headers: headers,\r\n    body: data\r\n  })\r\n    .then(response => {\r\n      return handleResponse(url, response);\r\n    })\r\n    .catch(error => {\r\n      console.error(`Request failed. Url = ${url}. Message = ${error}`);\r\n      return Promise.reject({ error: { message: \"Request failed.\" } });\r\n    });\r\n}\r\n\r\nfunction handleResponse(url, response) {\r\n  if (response.status === 200) {\r\n    return response.json();\r\n  } else {\r\n    console.error(`Request failed. Url= ${url}`);\r\n    return Promise.reject({\r\n      error: { message: \"Request failed due to server error\" }\r\n    });\r\n  }\r\n}\r\n\r\nexport { get, post };\r\n","import { get } from \"../../utils/request\";\r\n\r\n//經過中間件處理的action所具有的標識\r\nexport const FETCH_DATA = \"FETCH DATA\";\r\n\r\n//next 代表當前中間件的下一個中間件所提供的dispatch方法\r\nexport default store => next => action => {\r\n  const callAPI = action[FETCH_DATA];\r\n  if (typeof callAPI === \"undefined\") {\r\n    return next(action);\r\n  }\r\n\r\n  const { endpoint, schema, types } = callAPI;\r\n  if (typeof endpoint !== \"string\") {\r\n    throw new Error(\"endpoint必須為字符串類型的URL\");\r\n  }\r\n  if (!schema) {\r\n    throw new Error(\"必須指定領域實體的schema\");\r\n  }\r\n  if (!Array.isArray(types) && types.length !== 3) {\r\n    throw new Error(\"需要指定一個包含了3個action type的數組\");\r\n  }\r\n  if (!types.every(type => typeof type === \"string\")) {\r\n    throw new Error(\"action type必須為字符串類型\");\r\n  }\r\n\r\n  //增強版action使其包含額外參數\r\n  const actionWith = data => {\r\n    const finalAction = {...action, ...data} //在原有基礎上，擴展data\r\n    delete finalAction[FETCH_DATA] //在往後傳遞不需要 這一層級屬性刪除\r\n    return finalAction\r\n  }\r\n\r\n  const [requestType, successType, failureType] = types;\r\n\r\n  next(actionWith({ type: requestType })); //有一個請求即將被發送\r\n  //傳入請求的url 數據實體schema\r\n  return fetchData(endpoint, schema).then(\r\n    response =>\r\n      next(\r\n        actionWith({\r\n          type: successType,\r\n          response\r\n        })\r\n      ),\r\n    error =>\r\n      next(\r\n        actionWith({\r\n          type: failureType,\r\n          error: error.message || \"獲取數據失敗\"\r\n        })\r\n      )\r\n  );\r\n};\r\n\r\n//執行網路請求\r\nconst fetchData = (endpoint, schema) => {\r\n  return get(endpoint).then(data => {\r\n    return normalizeData(data, schema);\r\n  });\r\n};\r\n\r\n//根據schema, 將獲取的數據扁平化處理\r\nconst normalizeData = (data, schema) => {\r\n  const { id, name } = schema;\r\n  let kvObj = {}; //kv key value\r\n  let ids = []; //存取到數據所獲取的每一項id\r\n  if (Array.isArray(data)) {\r\n    data.forEach(item => {\r\n      kvObj[item[id]] = item;\r\n      ids.push(item[id]);\r\n    });\r\n  } else { //不是Array類型 只是一個對象\r\n    kvObj[data[id]] = data;\r\n    ids.push(data[id]);\r\n  }\r\n  return {\r\n    [name]: kvObj, //掛載到name屬性下 name代表不同領域實體的名字 例如獲取products時 name是products\r\n    ids\r\n  };\r\n};\r\n","//每建立一個redux實體模塊 都要創建reducer邏輯 因此拉至utils進行抽象封裝成函數\r\n// ex redux/modules/entities/shop.js\r\n\r\nconst createReducer = name => {\r\n  return (state = {}, action) => {\r\n    if (action.response && action.response[name]) {\r\n      return { ...state, ...action.response[name] };\r\n    }\r\n    return state;\r\n  };\r\n};\r\n\r\nexport default createReducer;\r\n","import createReducer from \"../../../utils/createReducer\";\r\n\r\nexport const schema = {\r\n  name: \"shops\",\r\n  id: \"id\"\r\n};\r\nconst reducer = createReducer(schema.name);\r\nexport default reducer;\r\n\r\n// selectors 根據id獲取某個商家資訊\r\nexport const getShopById = (state, id) => {\r\n  const shop = state.entities.shops[id];\r\n  return shop;\r\n};\r\n","import createReducer from \"../../../utils/createReducer\";\r\n\r\nexport const schema = {\r\n  name: 'products',\r\n  id: 'id',\r\n} \r\nconst reducer = createReducer(schema.name)\r\n\r\n// 移至 src/utils/createReducer\r\n// const reducer = (state = {}, action) => {\r\n//     if(action.response && action.response.products) {\r\n//       return {...state, ...action.response.products}\r\n//     }\r\n//     return state;\r\n//   };\r\nexport default reducer;\r\n\r\n\r\n//selectors \r\n\r\n//根據id獲取某個商品詳細情形  \r\nexport const getProductDetail = (state, id) => {\r\n  const product = state.entities.products[id];\r\n  //不保證包含詳情數據，需判斷檢查 (例首頁只包含產品基礎訊息)\r\n  return product && product.detail && product.purchaseNotes ? product :  null; //判斷資料下方是否有對應的詳情資料\r\n}\r\n\r\n//根據id獲取某個商品資料 不過濾是否含有商品詳情  \r\nexport const getProductById = (state, id) => {\r\n  return state.entities.products[id];\r\n}","//服務於頁面的redux模塊 含純應用的狀態維護\r\nimport { combineReducers } from \"redux\";\r\nimport url from \"../../utils/url\";\r\nimport { FETCH_DATA } from \"../middleware/api\";\r\nimport { schema as shopSchema, getShopById } from \"./entities/shops\";\r\nimport { schema as productSchema, getProductDetail, getProductById } from \"./entities/products\";\r\n\r\n//兩組action透過調用後台api 來獲取對應領域實體數據\r\nexport const types = {\r\n  // 獲取產品詳情\r\n  FETCH_PRODUCT_DETAIL_REQUEST: \"DETAIL/FETCH_PRODUCT_DETAIL_REQUEST\",\r\n  FETCH_PRODUCT_DETAIL_SUCCESS: \"DETAIL/FETCH_PRODUCT_DETAIL_SUCCES\",\r\n  FETCH_PRODUCT_DETAIL_FAILURE: \"DETAIL/FETCH_PRODUCT_DETAIL_FAILURE\",\r\n  // 獲取關聯商家訊息\r\n  FETCH_SHOP_REQUEST: \"DETAIL/FETCH_PRODUCT_DETAIL_REQUEST\",\r\n  FETCH_SHOP_SUCCESS: \"DETAIL/FETCH_PRODUCT_DETAIL_SUCCES\",\r\n  FETCH_SHOP_FAILURE: \"DETAIL/FETCH_PRODUCT_DETAIL_FAILURE\"\r\n};\r\n\r\n//初始商品與店家狀態\r\nconst initialState = {\r\n  product: {\r\n    isFetching: false, //當前是否抓取資料中\r\n    id: null\r\n  },\r\n  relatedShop: {\r\n    isFetching: false, //當前是否抓取關聯店家的資料中\r\n    id: null\r\n  }\r\n};\r\n\r\n//有了actions後 定義具體的 actions creator\r\nexport const actions = {\r\n  //獲取商品詳情\r\n  loadProductDetail: id => {\r\n    return (dispatch, getState) => {\r\n      const product = getProductDetail(getState(), id);\r\n      if (product) {\r\n        //判斷是否資料存在再抓取 將當前的id更新到state中 \r\n        return dispatch(fetchProductDetailSuccess(id));\r\n      }\r\n      const endpoint = url.getProductDetail(id); //  /mock/product_detail/m-1.json\r\n      //有了url 借助redux middleware dispatch 發送異步action\r\n      console.log( endpoint, dispatch(fetchProductDetail(endpoint, id)) );\r\n      return dispatch(fetchProductDetail(endpoint, id));\r\n    };\r\n  },\r\n  // 獲取店家訊息\r\n  loadShopById: id => {\r\n    return (dispatch, getState) => {\r\n      const shop = getShopById(getState(), id);\r\n      if (shop) {\r\n        return dispatch(fetchShopSuccess(id));\r\n      }\r\n      const endpoint = url.getShopById(id);\r\n      return dispatch(fetchShopById(endpoint, id));\r\n    };\r\n  }\r\n};\r\n\r\nconst fetchProductDetail = (endpoint, id) => ({\r\n  [FETCH_DATA]: {\r\n    types: [\r\n      types.FETCH_PRODUCT_DETAIL_REQUEST,\r\n      types.FETCH_PRODUCT_DETAIL_SUCCESS,\r\n      types.FETCH_PRODUCT_DETAIL_FAILURE\r\n    ],\r\n    endpoint,\r\n    schema: productSchema\r\n  },\r\n  id\r\n});\r\n\r\nconst fetchShopById = (endpoint, id) => ({\r\n  [FETCH_DATA]: {\r\n    types: [\r\n      types.FETCH_SHOP_REQUEST,\r\n      types.FETCH_SHOP_SUCCESS,\r\n      types.FETCH_SHOP_FAILURE\r\n    ],\r\n    endpoint,\r\n    schema: shopSchema\r\n  },\r\n  id\r\n});\r\n\r\nconst fetchProductDetailSuccess = id => ({\r\n  type: types.FETCH_PRODUCT_DETAIL_SUCCESS,\r\n  id\r\n});\r\n\r\nconst fetchShopSuccess = id => ({\r\n  type: types.FETCH_SHOP_SUCCESS,\r\n  id\r\n});\r\n\r\n\r\n// 商品詳情reducer\r\nconst product = (state = initialState.product, action) => {\r\n  switch (action.type) {\r\n    case types.FETCH_PRODUCT_DETAIL_REQUEST:\r\n      return { ...state, isFetching: true };\r\n    case types.FETCH_PRODUCT_DETAIL_SUCCESS:\r\n      return { ...state, id: action.id, isFetching: false };\r\n    case types.FETCH_PRODUCT_DETAIL_FAILURE:\r\n      return { ...state, isFetching: false, id: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\n// 店家reducer\r\nconst relatedShop = (state = initialState.relatedShop, action) => {\r\n  switch (action.type) {\r\n    case types.FETCH_SHOP_REQUEST:\r\n      return { ...state, isFetching: true };\r\n    case types.FETCH_SHOP_SUCCESS:\r\n      return { ...state, id: action.id, isFetching: false };\r\n    case types.FETCH_SHOP_FAILURE:\r\n      return { ...state, isFetching: false, id: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nconst reducer = combineReducers({\r\n  product,\r\n  relatedShop\r\n});\r\nexport default reducer;\r\n\r\n\r\n\r\n// selectors 在商品詳情頁當中的容器型組件中去使用\r\n//獲取商品詳情\r\nexport const getProduct = (state, id) => {\r\n  return getProductDetail(state, id)\r\n}\r\n\r\n//獲取管理的店家訊息\r\nexport const getRelatedShop = (state, productId) => {\r\n  //根據商品id獲取店家訊息\r\n  const product = getProductById(state, productId); //透過product對應的實體模塊獲取資料\r\n  let shopId = product ? product.nearestShop : null;\r\n  if(shopId) {\r\n    return getShopById(state, shopId);\r\n  }\r\n  return null;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport ProductOverview from \"./components/ProductOverview\";\r\nimport ShopInfo from \"./components/ShopInfo\";\r\nimport Detail from \"./components/Detail\";\r\nimport Remark from \"./components/Remark\";\r\nimport BuyButton from \"./components/BuyButton\";\r\nimport Header from \"../../components/Header\";\r\nimport {\r\n  actions as detailActions,\r\n  getProduct,\r\n  getRelatedShop\r\n} from \"../../redux/modules/detail\";\r\n\r\nclass ProductDetail extends Component {\r\n  render() {\r\n    // this.props  output detail combineReducers\r\n    const { product } = this.props;  \r\n    return (\r\n      <div>\r\n        <Header title=\"商品詳情\" onBack={this.handleBack} grey />\r\n        {product && <ProductOverview data={product} />}\r\n        <ShopInfo />\r\n        <Detail />\r\n        <Remark />\r\n        <BuyButton />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { product } = this.props;\r\n    //組件掛載時候，不具備商品訊息，請求資料\r\n    if (!product) {\r\n      const productId = this.props.match.params.id;\r\n      this.props.detailActions.loadProductDetail(productId);\r\n    } else if (!this.props.relatedShop) {\r\n      //組件掛載時候，不具備店家訊息，請求資料\r\n      this.props.detailActions.loadShopById(product.nearestShop);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(preProps) {\r\n    // 第一次獲取到產品詳情時，需要繼續獲取關聯的店家訊息 (else if 未執行)\r\n    // 前一次product資料不存在 而且 當前更新的product資料存在\r\n    if (!preProps.product && this.props.product) {\r\n      this.props.detailActions.loadShopById(this.props.product.nearestShop);\r\n    }\r\n  }\r\n\r\n  handleBack = () => {\r\n    this.props.history.goBack(); //react router  \r\n  };\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  // http://localhost:3000/detail/:id\r\n  const productId = props.match.params.id; //react router提供的商品ID\r\n  return {\r\n    product: getProduct(state, productId),\r\n    relatedShop: getRelatedShop(state, productId)\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    detailActions: bindActionCreators(detailActions, dispatch)\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ProductDetail);\r\n\r\n//export default ProductDetail;\r\n","import React, { Component } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport { BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\r\nimport ErrorToast from \"../../components/ErrorToast\";\r\nimport { actions as appActions, getError } from \"../../redux/modules/app\";\r\nimport Home from \"../Home\";\r\nimport ProductDetail from \"../ProductDetail\";\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    const {\r\n      error,\r\n      appActions: { clearError }\r\n    } = this.props;\r\n    return (\r\n      <div className=\"App\">\r\n        <Router>\r\n          <Switch>\r\n            <Route path=\"/detail/:id\" component={ProductDetail} />\r\n            <Route path=\"/\" component={Home} />\r\n          </Switch>\r\n        </Router> \r\n        {error ? <ErrorToast msg={error} clearError={clearError} /> : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// 常見的容器型組件模板式代碼 分別從redux狀態管理層　獲取　容器型組件要用的state和action方法\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    error: getError(state)\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    //bindActionCreators將　appActions進行進一步包裝　在容器型組件使用時　可以直接發送對應的Action　不需要再調用dispatch的方法來發送\r\n    //bindActionCreators的作用是將一個或多個action和dispatch組合起來生成mapDispatchToProps需要生成的內容。把actions和dispatch合併\r\n    appActions: bindActionCreators(appActions, dispatch)\r\n  };\r\n};\r\n\r\n//使用 React Redux 提供的 connect() function 產生 container component 而非手動寫成\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","const reducer = (state = {}, action) => {\r\n  return state;\r\n};\r\nexport default reducer;\r\n","const reducer = (state = {}, action) => {\r\n    return state;\r\n  };\r\nexport default reducer;","import {combineReducers} from \"redux\";\r\nimport products from \"./products\";\r\nimport shops from \"./shops\";\r\nimport orders from \"./orders\";\r\nimport comments from \"./comments\";\r\n\r\n// 合併領域狀態\r\nconst  rootReducer = combineReducers({\r\n    products,\r\n    shops,\r\n    orders,\r\n    comments\r\n})\r\n\r\nexport default rootReducer","import { combineReducers} from \"redux\"\r\nimport url from \"../../utils/url\";\r\nimport { FETCH_DATA } from \"../middleware/api\"\r\nimport { schema } from \"./entities/products\"\r\n\r\n// 請求參數使用到的常量對象\r\nexport const params = {\r\n  PATH_LIKES: \"likes\", //猜你喜歡\r\n  PATH_DISCOUNTS: \"discounts\", //超值特惠\r\n  PAGE_SIZE_LIKES: 5,\r\n  PAGE_SIZE_DISCOUNTS: 3\r\n};\r\n\r\nexport const types = {\r\n  FETCH_LIKES_REQUEST: \"HOME/FETCH_LIKES_REQUEST\", //猜你喜歡\r\n  FETCH_LIKES_SUCCESS: \"HOME/FETCH_LIKES_SUCCESS\",\r\n  FETCH_LIKES_FAILURE: \"HOME/FETCH_LIKES_FAILURE\",\r\n  FETCH_DISCOUNTS_REQUEST: \"HOME/FETCH_DISCOUNTS_REQUEST\",//超值特惠\r\n  FETCH_DISCOUNTS_SUCCESS: \"HOME/FETCH_DISCOUNTS_SUCCESS\",\r\n  FETCH_DISCOUNTS_FAILURE: \"HOME/FETCH_DISCOUNTS_FAILURE\"\r\n};\r\n\r\nconst initialState = {\r\n  likes: {\r\n    isFetching: false,\r\n    pageCount: 0,\r\n    ids: [],\r\n  },\r\n  discounts: {\r\n    isFetching: false,\r\n    ids:[],\r\n  }\r\n}\r\n\r\nexport const actions = {\r\n  //加載猜你喜歡  \r\n  loadLikes: () => {\r\n    return (dispatch, getState) => {\r\n      const { pageCount } = getState().home.likes;\r\n      const rowIndex = pageCount * params.PAGE_SIZE_LIKES; //下次加載數據是第幾條\r\n      const endpoint = url.getProductList(params.PATH_LIKES, rowIndex, params.PAGE_SIZE_LIKES) //參數 來源,第一條開始獲取 每頁獲取十條 0,10\r\n      return dispatch(fetchLikes(endpoint))\r\n    }\r\n  },\r\n  //加載特惠商品\r\n  loadDiscounts: () => {\r\n    return (dispatch, getState) => {\r\n      const {ids} = getState().home.discounts\r\n      if (ids.length >0 ) {\r\n        return null;\r\n      }\r\n      const endpoint = url.getProductList(\r\n        params.PATH_DISCOUNTS,\r\n        0, //只有3條 不需分頁\r\n        params.PAGE_SIZE_DISCOUNTS\r\n      );\r\n      return dispatch(fetchDiscounts(endpoint));\r\n    };\r\n  }\r\n}\r\n\r\n//所有與發送請求相關的處理\r\nconst fetchLikes = (endpoint) => ({\r\n  [FETCH_DATA]: {\r\n    types: [\r\n      types.FETCH_LIKES_REQUEST,\r\n      types.FETCH_LIKES_SUCCESS,\r\n      types.FETCH_LIKES_FAILURE\r\n    ],\r\n    endpoint, //對應url\r\n    schema //對應領域實體\r\n  }\r\n})\r\n\r\nconst fetchDiscounts = endpoint => ({\r\n  [FETCH_DATA]: {\r\n    types: [\r\n      types.FETCH_DISCOUNTS_REQUEST,\r\n      types.FETCH_DISCOUNTS_SUCCESS,\r\n      types.FETCH_DISCOUNTS_FAILURE\r\n    ],\r\n    endpoint,\r\n    schema\r\n  }\r\n});\r\n\r\n\r\n//猜你喜歡reducer\r\nconst likes = (state = initialState.likes, action) => {\r\n  switch (action.type) {\r\n    case types.FETCH_LIKES_REQUEST:\r\n      return { ...state, isFetching: true }; //根據isFetching 顯示 loading 效果\r\n    case types.FETCH_LIKES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isFetching: false, //請求結束\r\n        pageCount: state.pageCount + 1, //得當前頁碼\r\n        ids: state.ids.concat(action.response.ids) //ids維持數據有序性  concat 返回新array保證不是修改直接修改原ids ref: middleware/api.js\r\n      };\r\n    case types.FETCH_LIKES_FAILURE:\r\n      return {...state, isFetching: false} //通用錯誤處理設狀態即可 api.js fetchData error 發送action 會被app模塊 app.js  CLEAR_ERROR 處理  \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//特惠商品reducer\r\nconst discounts = (state = initialState.discounts, action) => {\r\n  switch (action.type) {\r\n    case types.FETCH_DISCOUNTS_REQUEST:\r\n      return { ...state, isFetching: true };\r\n    case types.FETCH_DISCOUNTS_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isFetching: false,\r\n        ids: state.ids.concat(action.response.ids)\r\n      };\r\n    case types.FETCH_DISCOUNTS_FAILURE:\r\n      return {...state, isFetching: false}\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//將reducer合併\r\nconst reducer = combineReducers({\r\n  discounts,\r\n  likes\r\n})\r\n\r\n// const reducer = (state = {}, action) => {\r\n//   switch (action.type) {\r\n//     case types.FETCH_LIKES_REQUEST:\r\n//     // todo\r\n//     case types.FETCH_LIKES_SUCCESS:\r\n//     // todo\r\n//     case types.FETCH_LIKES_FAILURE:\r\n//     // todo\r\n//     default:\r\n//       return state;\r\n//   }\r\n// };\r\nexport default reducer;\r\n","import { combineReducers } from \"redux\";\r\nimport entities from \"./entities\";\r\nimport home from \"./home\";\r\nimport detail from \"./detail\";\r\nimport app from \"./app\";\r\n\r\n//合併成根reducer \r\nconst rootReducer = combineReducers({\r\n    entities,\r\n    home,\r\n    detail,\r\n    app\r\n})\r\n\r\nexport default rootReducer","import { createStore, applyMiddleware } from \"redux\"; //使用中間件需要appltMiddleware\r\nimport thunk from \"redux-thunk\"; //處理異步中間件  \r\nimport api from \"./middleware/api\";\r\nimport rootReducer from \"./modules\";\r\n\r\nlet store;\r\n\r\nif (\r\n  process.env.NODE_ENV !== \"production\" &&\r\n  window.__REDUX_DEVTOOLS_EXTENSION__\r\n) {\r\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;\r\n  store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk,api)));\r\n} else {\r\n  //thunk放前api放後 先讓thunk處理函數類型的action，然後讓api中間件處理具體請求的封裝  \r\n  store = createStore(rootReducer, applyMiddleware(thunk,api)); \r\n}\r\nexport default store; ","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./containers/App\";\r\nimport store from \"./redux/store\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}